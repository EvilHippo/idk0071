var playerProfile = function(game){
};

playGame.onclick = function () {
    userAccount.style.display = 'none';
    waitGame();
};
leaders.onclick = function()
{
    allTimeLeaderboard()
    //game.state.start('leaderboard');
}
viewHistory.onclick = function()
{
    //userAccount.style.display = 'none';
    viewPersonalHistory();
    
};
let listLength = 0;
let yCord = 100;
var text2;
function viewPersonalHistory()
{
    this.text = game.add.text(200, 20, 'Here are your scores', {font: "20px", fill: "#ffffff"});
    text2 = game.add.text(200, 20, '', {font: "20px", fill: "#ffffff"});
    console.log("PLAYER " + playerName);
    $.ajax({
        type: "POST",
        url: "http://localhost:8080/personalHistory",
        data: "{'username':" + playerName + "}",
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        success: function(data)
        {
            listLenght = data.length;
            for(var i = 0; i < listLenght; i++)
                {   
                    text2.destroy();
                    console.log("username " + data[i].username + "score " + data[1].score);
                    text2 = game.add.text(200, yCord, "score: " + data[i].score, { font: "20px",fill: '#ffffff' });
                    yCord = yCord + 12;
                }
        }
    });
}
playerProfile.prototype = {
    
    preload: function() {
        game.load.spritesheet('button', 'purple_ball.png', 193, 71);
        game.load.image('bg1', 'Layer_0002_7.png');
        game.load.image('bg2', 'Layer_0003_6.png');
        game.load.image('bg3', 'Layer_0004_Lights.png');
        game.load.image('bg4', 'Layer_0005_5.png');
        game.load.image('bg5', 'Layer_0006_4.png');
        game.load.image('bg6', 'Layer_0007_Lights.png');
        game.load.image('bg7', 'Layer_0008_3.png');
        game.load.image('bg8', 'Layer_0009_2.png');
        game.load.image('bg9', 'Layer_0010_1.png'); 
    },
	
	create: function () {
        game.stage.backgroundColor = "#000000";
        game.add.tileSprite(0, 0, 800, 600, 'bg9');
        game.add.tileSprite(0, 0, 800, 600, 'bg8');
        game.add.tileSprite(0, 0, 800, 600, 'bg7');
        game.add.tileSprite(0, 0, 800, 600, 'bg6');
        game.add.tileSprite(0, 0, 800, 600, 'bg5');
        game.add.tileSprite(0, 0, 800, 600, 'bg4');
        game.add.tileSprite(0, 0, 800, 600, 'bg3');
        game.add.tileSprite(0, 0, 800, 600, 'bg2');
        game.add.tileSprite(0, 0, 800, 600, 'bg1');
	},

}