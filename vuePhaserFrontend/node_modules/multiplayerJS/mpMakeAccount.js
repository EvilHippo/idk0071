var regNewPlayer = function(game){
};

makeAccount.onclick = function () {
    controlValues();
};

function controlValues()
{
    newPlayerUsername = makeAccountUsername.value;
    newPlayerPassword = makeAccountPassword.value;
    if(newPlayerUsername === null || newPlayerPassword === null)
        {
            console.log('something missing!');
        }
    else
        {
            $.ajax({
                        type: "POST",
                        url: "http://localhost:8080/register",
                        data: "{'username':" +newPlayerUsername + ",'password':" + newPlayerPassword + "}",
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        success: function(data)
                {
                    console.log('data ' + data.success);
                    if(data.success == true)
                        {
                            console.log('username ' + newPlayerUsername + ' password ' + newPlayerPassword);
                            signDiv.style.display = 'none';
                            logInDiv.style.display = 'block';
                            game.state.start('mpLogin');  
                        }
                    else if (data.success == false) {
                        this.noteLabel = game.add.text(100,350, 'Username is already taken!\nPlease choose another.', {font: "25px Arial", fill: "#950000"});
                    }
                },
                
                    });   
        }

}

regNewPlayer.prototype = {
        preload: function()
    {
        game.load.image('bg1', 'Layer_0002_7.png');
        game.load.image('bg2', 'Layer_0003_6.png');
        game.load.image('bg3', 'Layer_0004_Lights.png');
        game.load.image('bg4', 'Layer_0005_5.png');
        game.load.image('bg5', 'Layer_0006_4.png');
        game.load.image('bg6', 'Layer_0007_Lights.png');
        game.load.image('bg7', 'Layer_0008_3.png');
        game.load.image('bg8', 'Layer_0009_2.png');
        game.load.image('bg9', 'Layer_0010_1.png');
        game.load.image('button', 'purple_ball.png');
        signDiv.style.display = 'block';
    },
    create: function () {
        game.add.tileSprite(0, 0, 800, 600, 'bg9');
        game.add.tileSprite(0, 0, 800, 600, 'bg8');
        game.add.tileSprite(0, 0, 800, 600, 'bg7');
        game.add.tileSprite(0, 0, 800, 600, 'bg6');
        game.add.tileSprite(0, 0, 800, 600, 'bg5');
        game.add.tileSprite(0, 0, 800, 600, 'bg4');
        game.add.tileSprite(0, 0, 800, 600, 'bg3');
        game.add.tileSprite(0, 0, 800, 600, 'bg2');
        game.add.tileSprite(0, 0, 800, 600, 'bg1');
    }
}