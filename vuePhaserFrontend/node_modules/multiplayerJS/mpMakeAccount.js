var regNewPlayer = function(game){
};

makeAccount.onclick = function () {
    controlValues();
};

function controlValues()
{
    newPlayerUsername = makeAccountUsername.value;
    newPlayerPassword = makeAccountPassword.value;
    if(newPlayerUsername === null || newPlayerPassword === null)
        {
            console.log('something missing!');
        }
    else
        {
            $.ajax({
                        type: "POST",
                        url: "http://localhost:8080/register",
                        data: "{'username':" +newPlayerUsername + ",'password':" + newPlayerPassword + "}",
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        success: function(data)
                {
                    console.log('data ' + data.success);
                    if(data.success == true)
                        {
                            console.log('username ' + newPlayerUsername + ' password ' + newPlayerPassword);
                            signDiv.style.display = 'none';
                            logInDiv.style.display = 'block';
                            game.state.start('mpLogin');  
                        }
                    else if (data.success == false) {
                        this.noteLabel = game.add.text(100,100, 'Username is already taken!\nPlease choose another', {font: "15px Arial", fill: "#950000"});
                    }
                },
                
                    });   
        }

}

regNewPlayer.prototype = {
    preload: function()
    {
        signDiv.style.display = 'block';
    },
    create: function()
    {
       
        this.makeLabel = game.add.text(100, 90, 'Enter username and password.', {font: '30px Tahoma', fill: '#ffffff'}); 
        console.log('done');
        
    }
}