/**
 * Gamestate for when the user has requested a game but hasn't been assigned an opponent yet.
 */


let waitView = function (game) {
};

waitView.prototype = {

    preload: function () {
        game.load.spritesheet('waiting', '../farshockAssets/waitingGame.png', 128, 128);
        game.load.image('bg1', '../farshockAssets/Layer_0002_7.png');
        game.load.image('bg2', '../farshockAssets/Layer_0003_6.png');
        game.load.image('bg3', '../farshockAssets/Layer_0004_Lights.png');
        game.load.image('bg4', '../farshockAssets/Layer_0005_5.png');
        game.load.image('bg5', '../farshockAssets/Layer_0006_4.png');
        game.load.image('bg6', '../farshockAssets/Layer_0007_Lights.png');
        game.load.image('bg7', '../farshockAssets/Layer_0008_3.png');
        game.load.image('bg8', '../farshockAssets/Layer_0009_2.png');
        game.load.image('bg9', '../farshockAssets/Layer_0010_1.png');
    },

    create: function () {
        game.stage.disableVisibilityChange = true;
        
        game.stage.backgroundColor = "#000000";
        game.add.tileSprite(0, 0, 800, 600, 'bg9');
        game.add.tileSprite(0, 0, 800, 600, 'bg8');
        game.add.tileSprite(0, 0, 800, 600, 'bg7');
        game.add.tileSprite(0, 0, 800, 600, 'bg6');
        game.add.tileSprite(0, 0, 800, 600, 'bg5');
        game.add.tileSprite(0, 0, 800, 600, 'bg4');
        game.add.tileSprite(0, 0, 800, 600, 'bg3');
        game.add.tileSprite(0, 0, 800, 600, 'bg2');
        game.add.tileSprite(0, 0, 800, 600, 'bg1');
        /*
        let gradientBackground = game.add.bitmapData(800, 600);
        let gradient = gradientBackground.context.createLinearGradient(0, 0, 0, 500);
        gradient.addColorStop(0, "white");
        gradient.addColorStop(1, "green");
        gradientBackground.context.fillStyle = gradient;
        gradientBackground.context.fillRect(0, 0, 800, 580);
        gradient = gradientBackground.context.createLinearGradient(0, 580, 0, 600);
        gradient.addColorStop(0, "green");
        gradient.addColorStop(1, "black");
        gradientBackground.context.fillStyle = gradient;
        gradientBackground.context.fillRect(0, 580, 800, 20);
        game.add.sprite(0, 0, gradientBackground);
        */
        let waiting = game.add.sprite(game.world.centerX, game.world.centerX, 'waiting');
        waiting.animations.add('wait');
        waiting.animations.play('wait', 1000, true);

        txt = this.game.add.text(game.world.centerX, 100, "Searching for opponent...", {
            font: "30px Arial",
            fill: "#ffffff",
            stroke: '#000000',
            strokeThickness: 3
        });
        txt.wordWrap = true;
        txt.wordWrapWidth = (0.95 * this.game.world.width);

    }
};