entername.onclick = function () {
	if (!gameProperties.in_game) {
		gameProperties.in_game = true; 
		
		signDiv.style.display = 'none'; 
        var playerName = signdivusername.value;
		//socket.emit('enter_name', {username: signdivusername.value});
        //joinGame(playerName);
        waitGame();
	}
}

function joinGame () {
	game.state.start(
        'mpGame', true, false
      );
}

function generateID() {
     return Math.floor(Math.random() * 10000000000);
}

function waitGame() {
    //signDiv.style = 'display:none;';
    //notification.innerHTML = 'Waiting for another player';
    playerName = signdivusername.value;
    playerId = generateID();
    
    
    $.post(
      "localhost:8080/user/create",
      { UID: playerId, username: playerName },
      function(data) {
        alert("Response: " + data);
      }
    );
    
    connect();
    
    // wait in order to finish connecting
    // TODO check if connection exists, then call the function
    setTimeout(function()
    {
        if(!gameStarted) {
            playerRequestGame(playerName, playerId);
            var ownInfo = JSON.stringify({'name' : playerName, 'id' : playerId});
            stompClient.send("/app/game", {}, ownInfo);
        }
            
    }, 1000);
    
}



var login = function(game){
};

login.prototype = {
	
	create: function () {
		game.stage.backgroundColor = "#AFF7F0";
		//socket = io({transports: ['websocket'], upgrade: false});
		//socket.on('join_game', join_game);
	}
}